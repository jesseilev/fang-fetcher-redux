{"version":3,"sources":["actions.js","Components/Repo.js","Components/Company.js","Components/Selector.js","Containers/App.js","tasks.js","reducers.js","index.js"],"names":["receiveReposFail","type","clockDidTick","companyName","Repo","props","repo","react_default","a","createElement","lib","className","key","name","xs","sm","md","dist_default","flexDirection","href","html_url","numeral","stargazers_count","format","description","Company","repos","company","onClickToFetch","bloodDrips","n","items","drip","blank","sequence","R","ticksSinceRequest","fetchView","isFetching","height","justifyContent","paddingTop","onClick","alignItems","flexGrow","length","align","style","width","Components_Repo","Selector","options","selectedItem","onSelect","flex","option","isSelected","selected","title","slice","toUpperCase","Header","element","Footer","marginLeft","marginRight","connect","state","companies","selectedCompany","dispatch","Actions","alignContent","minHeight","App_Header","maxWidth","Components_Selector","Object","values","Components_Company","App_Footer","fetchRepo","fetch","concat","queryString","then","response","json","tickClock","Promise","resolve","setTimeout","initCompany","githubName","initialState","Facebook","Amazon","Netflix","Google","arguments","undefined","action","fetchRepoCmd","Loop","run","Tasks","successActionCreator","failActionCreator","args","startClockCmd","objectSpread","list","alert","rootReducer","middleware","compose","store","createStore","ReactDOM","render","es","Containers_App","document","getElementById","subscribe","console","log","getState"],"mappings":"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","file":"static/js/main.5970a261.chunk.js","sourcesContent":["\nimport * as R from 'ramda';\n\n\n\nexport const SELECT_COMPANY = 'SELECT_COMPANY';\nexport const REQUEST_REPOS = 'REQUEST_REPOS';\nexport const RECEIVE_REPOS_SUCCESS = 'RECEIVE_REPOS_SUCCESS';\nexport const RECEIVE_REPOS_FAIL = 'RECEIVE_REPOS_FAIL';\nexport const CLOCK_DID_TICK = 'CLOCK_DID_TICK';\n\n\nexport const selectCompany = companyName => {\n  return {\n    type: SELECT_COMPANY,\n    companyName\n  }\n}\n\nexport const requestRepos = (companyName) => {\n  return {\n    type: REQUEST_REPOS,\n    companyName\n  };\n};\n\nexport const receiveReposSuccess = companyName => {\n  return json => {\n    return {\n      type: RECEIVE_REPOS_SUCCESS,\n      companyName,\n      repos: R.take(18, json.items)\n    };\n  };\n};\n\nexport const receiveReposFail = () => {\n  return {\n    type: RECEIVE_REPOS_FAIL\n  };\n};\n\nexport const clockDidTick = companyName => {\n  return () => ({\n    type: CLOCK_DID_TICK,\n    companyName\n  });\n}\n","import React from 'react';\nimport Flexbox from 'flexbox-react';\nimport numeral from 'numeral';\nimport { Row, Col } from 'react-simple-flex-grid';\n\n\n\nconst Repo = props => {\n  const { repo } = props;\n  return (\n    <Col\n      className='Repo-container'\n      key={repo.name}\n\n      xs={12}\n      sm={6}\n      md={4}\n    >\n      <Flexbox\n        className='Repo'\n        flexDirection='column'\n        key={repo.name + '_container'}\n      >\n        <a \n          className='Repo-link'       \n          href={repo.html_url}\n          key={repo.name + '_title'}\n        >\n          {repo.name}\n        </a>\n\n        <Flexbox\n          className='Repo-stars'\n          key={repo.name + '_stars'}\n        >          \n           â˜… { numeral(repo.stargazers_count).format('0a') }\n        </Flexbox>\n\n        <Flexbox\n          className='Repo-description'\n          key={repo.name + '_description'}\n        >\n          {repo.description}\n        </Flexbox>\n\n      </Flexbox>\n    </Col>\n\n  );\n}\n\nexport default Repo;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as R from 'ramda';\nimport Flexbox from 'flexbox-react';\nimport { Row, Col } from 'react-simple-flex-grid';\nimport \"react-simple-flex-grid/lib/main.css\";\n\nimport Repo from './Repo';\n\n\nconst ring = (n, items) => {\n  return R.take(n, R.flatten(R.repeat(items, n)));\n}\n\nconst Company = (props) => {\n  const { company, onClickToFetch } = props;\n\n  const FetchButton = () => (\n    <Flexbox\n      className='Company-button'\n      onClick={onClickToFetch}\n      alignItems='center'\n    >\n      Fetch repos from {company.companyName}\n    </Flexbox>\n  );\n\n  const bloodDrips = () => {\n    const drip = (\n      <Flexbox className='Company-bloodDrip'>&nbsp; &nbsp; {\"'\"} </Flexbox> \n    );\n    const blank = (\n      <Flexbox className='Company-bloodDrip'>&nbsp; &nbsp; &nbsp;</Flexbox> \n    );\n    const sequence = R.flatten([\n      drip,\n      R.repeat(blank, 3),\n      drip,\n      R.repeat(blank, 8),\n      drip,\n      R.repeat(blank, 5)\n    ]);\n    return R.take(6, R.reverse(ring(company.ticksSinceRequest, sequence)));\n  }\n\n  const Vampire = () => (\n    <Flexbox\n      className='Company-vampire'\n      flexDirection='column'\n      height='100%'\n      justifyContent='flex-start'\n      paddingTop=\"6em\"\n    >\n      <Flexbox>(^,..,^)</Flexbox>\n      { bloodDrips() }\n    </Flexbox>\n  );\n\n  const fetchView = company.isFetching ? <Vampire /> : <FetchButton />;\n\n  const reposListView = repos => {\n    return (\n      <Row \n        className='Company-reposListView'\n        align='center'\n        style= {{ width: '100%' }}\n      >\n        { \n          R.map(repo => <Repo repo={repo}/>, repos) \n        }\n      </Row>\n    );\n  };\n\n  return (\n    <Flexbox\n      className='Company'\n      flexDirection='column'\n      justifyContent='center'\n      alignItems='center'\n      flexGrow={1}\n    > \n      { \n        company.repos.length > 0  \n          ? reposListView(company.repos) \n          : fetchView\n      }\n    </Flexbox>\n  );\n};\n\nexport default Company;\n\n\n\n","import React from 'react';\nimport * as R from 'ramda';\nimport Flexbox from 'flexbox-react';\n\n\nconst Selector = (props) => {\n  const { options, selectedItem, onSelect } = props;\n\n  const optionView = option => {\n    const isSelected = selectedItem == option.key;\n    return (\n      <Flexbox\n        key={ option.key }\n        onClick={ onSelect(option.key) }\n        selected={ isSelected }\n\n        flexDirection='row'\n        alignItems='center'\n        flexGrow={1}\n\n        className={ \n          isSelected \n            ? 'Selector-option Selector-option_selected' \n            : 'Selector-option' \n        }\n      >\n        <Flexbox className='Selector-option-acronym'>\n          { option.title[0] }\n        </Flexbox>\n        { option.title.slice(1).toUpperCase() }\n      </Flexbox>\n    );\n  };\n\n  return (\n    <Flexbox \n      className='Selector'\n      flexDirection='row'\n      justifyContent='space-between'\n      alignItems='stretch'\n      flex='none'\n      flexGrow={0}\n      // minHeight='50px'\n    >\n      { R.map(optionView, options) }\n    </Flexbox>\n  );\n};\n\nexport default Selector;\n","import React, { Component } from 'react';\n// import { combineReducers } from 'redux';\nimport * as Loop from 'redux-loop';\nimport { connect } from 'react-redux';\nimport * as R from 'ramda';\nimport PropTypes from 'prop-types';\nimport Flexbox from 'flexbox-react';\n\n\nimport '../App.css';\nimport * as Actions from '../actions';\nimport Company from '../Components/Company';\nimport Selector from '../Components/Selector';\n\n\nconst Header = () => (\n  <Flexbox \n    element='header'\n    className=\"App-header\"\n\n    flexDirection='column'\n    alignItems='center'\n    flex='none'\n  >\n    <Flexbox \n      className=\"App-header-title\"\n    >\n      FANG Fetcher\n    </Flexbox>\n    <Flexbox \n      className=\"App-header-subtitle\"\n    >\n      Sink your teeth into the repositories of \n      tech's most red-blooded companies.\n    </Flexbox>\n  </Flexbox>\n);\n\n\nconst Footer = () => (\n  <Flexbox element='footer'\n    className='App-footer'\n\n    flexDirection='row'\n    justifyContent='flex-end'\n    flex='none'\n  >\n    <a\n      href='https://github.com/jesseilev/fang-fetcher-redux'\n    >\n      View source on github\n    </a>\n\n    <Flexbox\n      marginLeft='1em'\n      marginRight='1em'\n    >\n      |\n    </Flexbox>\n\n    <a\n      href='https://www.investopedia.com/terms/f/fang-stocks-fb-amzn.asp'\n    >\n      Huh? What is FANG?\n    </a>\n  </Flexbox>\n);\n\nconst App = props => {\n\n  const { companies, selectedCompany, onSelect, onClickToFetch } = props;\n\n  const selectorOptionData = (company) => ({\n    key: company.companyName,\n    title: company.companyName\n  });\n\n  return (\n    <Flexbox\n      className='App'\n      flexDirection='column'\n      justifyContent='center'\n      alignItems='stretch'\n      alignContent='center'\n      flexGrow={1}\n      minHeight='100%'\n    >\n      <Header />\n\n      <Flexbox\n        className='App-main-container'\n        flexDirection='row'\n        justifyContent='center'\n        flexGrow={1}\n      >\n        <Flexbox\n          element='main'\n          className='App-main'\n          flexDirection='column'\n          justifyContent='flex-start'\n          alignItems='stretch'\n          maxWidth='992px'\n          flexGrow={1}\n        >\n\n          <Flexbox\n            flexDirection='column'\n            justifyContent='flex-start'\n            flexGrow={1}\n          >\n            <Selector\n              options={ R.map(selectorOptionData, Object.values(companies)) }\n              selectedItem={ selectedCompany }\n              onSelect={ onSelect }\n            />\n\n            <Company \n              company={ companies[selectedCompany] }\n              onClickToFetch={ onClickToFetch(selectedCompany) }\n            />\n          </Flexbox>\n\n        </Flexbox>\n      </Flexbox>\n\n      <Footer />\n\n    </Flexbox>\n  );\n};\n\nApp.propTypes = {\n  companies: PropTypes.object.isRequired,\n  selectedCompany: PropTypes.string.isRequired,\n  onSelect: PropTypes.func.isRequired,\n  onClickToFetch: PropTypes.func.isRequired\n};\n\n\nconst mapStateToProps = state => {\n  return {\n    companies: state.companies,\n    selectedCompany: state.selectedCompany,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSelect: companyName => (\n      () => dispatch(Actions.selectCompany(companyName))\n    ),\n    onClickToFetch: companyName => (\n      () => dispatch(Actions.requestRepos(companyName))\n    )\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","\nimport fetch from 'cross-fetch';\n\n\nconst githubUrl = 'https://api.github.com/search/repositories?q=';\n\nconst queryString = companyName => `org:${companyName}+sort:stars`;\n\nexport const fetchRepo = (companyName) => {\n  return fetch(githubUrl + queryString(companyName))\n    .then(response => response.json());\n};\n\n\nexport const tickClock = (companyName) => {\n  return new Promise(resolve => {\n    setTimeout(resolve, 50);\n  });\n};","import * as Redux from 'redux';\nimport * as Loop from 'redux-loop';\nimport * as Actions from './actions';\nimport * as Tasks from './tasks';\n\n\n\nconst initCompany = (companyName, githubName) => {\n  return {\n    companyName: companyName,\n    githubName: githubName,\n    isFetching: false,\n    ticksSinceRequest: 0,\n    repos: []\n  };\n};\n\nexport const initialState = {\n  selectedCompany: 'Facebook',\n  companies: {\n    Facebook: initCompany('Facebook', 'facebook'),\n    Amazon: initCompany('Amazon', 'amzn'),\n    Netflix: initCompany('Netflix', 'netflix'),\n    Google: initCompany('Google', 'google')\n  }\n}\n\n\nconst company = (state = initCompany('Facebook'), action) => {\n\n  if (action.companyName !== state.companyName) {\n    return state;\n  }\n\n\n  switch(action.type) {\n\n    case Actions.REQUEST_REPOS:\n      const fetchRepoCmd = Loop.Cmd.run(Tasks.fetchRepo, {\n        successActionCreator: Actions.receiveReposSuccess(state.companyName),\n        failActionCreator: Actions.receiveReposFail,\n        args: [state.githubName]\n      });\n      const startClockCmd = Loop.Cmd.action(\n        Actions.clockDidTick(state.companyName)()\n      );\n      return Loop.loop(\n        { ...state, isFetching: true },\n        Loop.Cmd.list([ fetchRepoCmd, startClockCmd ])\n      );\n\n    case Actions.RECEIVE_REPOS_SUCCESS: \n      return {\n        ...state, \n        repos: action.repos,\n        isFetching: false\n      };\n\n    case Actions.RECEIVE_REPOS_FAIL:\n      return Loop.loop(\n        { ...state, isFetching: false },\n        Loop.Cmd.run( () => alert('FAILED!') )\n        // TODO handle failure for real\n      );\n\n    case Actions.CLOCK_DID_TICK:\n      if (! state.isFetching) {\n        return { ...state, ticksSinceRequest: 0 };\n      }\n      else {\n        return Loop.loop(\n          { ...state, ticksSinceRequest: state.ticksSinceRequest + 1 },\n          Loop.Cmd.run(Tasks.tickClock, {\n            successActionCreator: Actions.clockDidTick(state.companyName),\n          })\n        );\n      }\n\n    default:\n      return state;\n  }\n};\n\nconst companies = Loop.combineReducers({\n  Facebook: company,\n  Amazon: company,\n  Netflix: company,\n  Google: company\n});\n\nconst selectedCompany = (state = '', action) => {\n  switch(action.type) {\n    case Actions.SELECT_COMPANY:\n      return action.companyName;\n    default:\n      return state;\n  }\n};\n\nexport const rootReducer = Loop.combineReducers({\n  companies: companies,\n  selectedCompany: selectedCompany\n});","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose, combineReducers } from 'redux';\nimport * as Loop from 'redux-loop';\n\nimport './index.css';\nimport App from './Containers/App';\nimport { rootReducer, initialState } from './reducers';\n\n\nconst middleware = compose(\n  Loop.install(),\n  // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\n);\nconst store = createStore(rootReducer, initialState, middleware);\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n\nstore.subscribe( () => {\n  console.log(store.getState());\n});"],"sourceRoot":""}